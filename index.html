<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Houston County Eviction Filing System | Georgia Magistrate Court</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        :root {
            --houston-blue: #003366;
            --houston-red: #b22234;
            --houston-gold: #f0b323;
            --georgia-blue: #0f2044;
            --georgia-red: #ae1a1f;
            --light-gray: #f8f9fa;
            --dark-gray: #343a40;
            --border-radius: 8px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --success-green: #28a745;
            --warning-orange: #fd7e14;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        .header {
            background: linear-gradient(to right, var(--houston-blue), var(--georgia-blue));
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo {
            width: 70px;
            height: 70px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: var(--houston-blue);
            border: 3px solid var(--houston-gold);
        }
        
        .logo-text h1 {
            font-family: 'Merriweather', serif;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .logo-text p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .contact-info {
            text-align: right;
        }
        
        .contact-info p {
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .contact-info i {
            margin-right: 8px;
            color: var(--houston-gold);
        }
        
        .navigation {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 12px 20px;
            margin-top: 10px;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--houston-gold);
        }
        
        .nav-links a i {
            margin-right: 8px;
        }
        
        /* Hero Section */
        .hero {
            padding: 60px 0;
            text-align: center;
            background: linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), url('https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Seal_of_Georgia.svg/200px-Seal_of_Georgia.svg.png') no-repeat center;
            background-size: contain;
        }
        
        .hero h2 {
            font-size: 36px;
            color: var(--houston-blue);
            margin-bottom: 20px;
            font-family: 'Merriweather', serif;
        }
        
        .hero p {
            font-size: 18px;
            max-width: 800px;
            margin: 0 auto 30px;
            color: var(--dark-gray);
        }
        
        .cta-button {
            display: inline-block;
            background: linear-gradient(to right, var(--houston-red), var(--georgia-red));
            color: white;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 600;
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
            box-shadow: var(--box-shadow);
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }
        
        /* Features Section */
        .features {
            padding: 60px 0;
            background-color: white;
        }
        
        .section-title {
            text-align: center;
            font-size: 32px;
            color: var(--houston-blue);
            margin-bottom: 50px;
            font-family: 'Merriweather', serif;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .feature-card {
            background-color: var(--light-gray);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(to right, var(--houston-blue), var(--georgia-blue));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 28px;
        }
        
        .feature-card h3 {
            color: var(--houston-blue);
            margin-bottom: 15px;
            font-size: 22px;
        }
        
        /* Form Container */
        .form-container {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin: 40px auto;
            max-width: 900px;
            display: none;
        }
        
        .form-progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            position: relative;
        }
        
        .form-progress:before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 3px;
            background-color: #e0e0e0;
            z-index: 1;
        }
        
        .progress-step {
            text-align: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e0e0e0;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .step-circle.active {
            background-color: var(--houston-blue);
            color: white;
        }
        
        .step-circle.completed {
            background-color: var(--houston-gold);
            color: white;
        }
        
        .step-label {
            font-size: 14px;
            color: #666;
            font-weight: 600;
        }
        
        .form-step {
            display: none;
        }
        
        .form-step.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-title {
            color: var(--houston-blue);
            margin-bottom: 30px;
            font-size: 24px;
            font-family: 'Merriweather', serif;
            border-bottom: 2px solid var(--houston-gold);
            padding-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-gray);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-family: 'Open Sans', sans-serif;
            transition: border 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--houston-blue);
            box-shadow: 0 0 0 2px rgba(0, 51, 102, 0.1);
        }
        
        .form-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #eee;
        }
        
        .btn {
            padding: 12px 30px;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-family: 'Open Sans', sans-serif;
        }
        
        .btn-primary {
            background-color: var(--houston-blue);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--georgia-blue);
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        
        .btn-outline {
            background-color: white;
            color: var(--houston-blue);
            border: 2px solid var(--houston-blue);
        }
        
        .btn-outline:hover {
            background-color: var(--houston-blue);
            color: white;
        }
        
        .btn-success {
            background-color: var(--success-green);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        /* Info Box */
        .info-box {
            background-color: #e8f4fd;
            border-left: 4px solid var(--houston-blue);
            padding: 20px;
            margin-bottom: 30px;
            border-radius: var(--border-radius);
        }
        
        .info-box h4 {
            color: var(--houston-blue);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-box.warning {
            background-color: #fff3cd;
            border-left-color: var(--warning-orange);
        }
        
        .info-box.success {
            background-color: #d4edda;
            border-left-color: var(--success-green);
        }
        
        /* Document Preview Section */
        .document-preview {
            margin: 30px 0;
            border: 2px solid #e0e0e0;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .document-header {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .document-actions {
            display: flex;
            gap: 10px;
        }
        
        .document-frame {
            width: 100%;
            height: 500px;
            border: none;
        }
        
        /* Signature Pad */
        .signature-container {
            margin: 30px 0;
        }
        
        .signature-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .signature-pad {
            width: 100%;
            height: 200px;
            border: 2px dashed #ccc;
            border-radius: var(--border-radius);
            background: white;
            cursor: crosshair;
            margin-bottom: 15px;
        }
        
        .signature-actions {
            display: flex;
            gap: 10px;
        }
        
        .signature-preview {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .signature-preview img {
            max-height: 50px;
            border: 1px solid #ccc;
            background: white;
            padding: 5px;
        }
        
        /* Payment Section */
        .payment-section {
            margin: 30px 0;
        }
        
        .payment-summary {
            background: #f8f9fa;
            padding: 25px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
        }
        
        .payment-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .payment-item.total {
            font-weight: bold;
            font-size: 18px;
            color: var(--houston-blue);
            border-bottom: 2px solid var(--houston-blue);
        }
        
        .card-element {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            background: white;
            margin-bottom: 20px;
        }
        
        .card-errors {
            color: #dc3545;
            margin: 10px 0;
            min-height: 24px;
        }
        
        /* Case Status */
        .case-status {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin: 30px 0;
            display: none;
        }
        
        .status-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .status-timeline {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin: 40px 0;
        }
        
        .status-timeline:before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 3px;
            background: #e0e0e0;
            z-index: 1;
        }
        
        .status-step {
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .status-icon {
            width: 40px;
            height: 40px;
            background: #e0e0e0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            color: white;
            font-size: 18px;
        }
        
        .status-step.active .status-icon {
            background: var(--houston-blue);
        }
        
        .status-step.completed .status-icon {
            background: var(--success-green);
        }
        
        /* Footer */
        .footer {
            background-color: var(--georgia-blue);
            color: white;
            padding: 50px 0 20px;
            margin-top: 60px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-section h3 {
            font-size: 20px;
            margin-bottom: 20px;
            color: var(--houston-gold);
            font-family: 'Merriweather', serif;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--houston-gold);
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            color: #aaa;
        }
        
        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--houston-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .contact-info {
                text-align: center;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
            }
            
            .hero h2 {
                font-size: 28px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .form-container {
                padding: 25px;
            }
            
            .form-actions {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
            }
            
            .form-progress {
                flex-wrap: wrap;
                gap: 15px;
            }
            
            .progress-step {
                flex: 0 0 calc(50% - 15px);
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <p style="color: white; margin-top: 20px;" id="loadingText">Processing your request...</p>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-top">
                <div class="logo-container">
                    <div class="logo">HC</div>
                    <div class="logo-text">
                        <h1>Houston County Eviction System</h1>
                        <p>Georgia Magistrate Court - Warner Robins, GA</p>
                    </div>
                </div>
                <div class="contact-info">
                    <p><i class="fas fa-phone"></i> (478) 542-2100</p>
                    <p><i class="fas fa-map-marker-alt"></i> 202 Carl Vinson Pkwy, Warner Robins, GA 31088</p>
                    <p><i class="fas fa-clock"></i> Mon-Fri: 8:00 AM - 5:00 PM</p>
                </div>
            </div>
            
            <nav class="navigation">
                <ul class="nav-links">
                    <li><a href="#"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#" id="navStartFiling"><i class="fas fa-file-alt"></i> Start Filing</a></li>
                    <li><a href="#"><i class="fas fa-question-circle"></i> How It Works</a></li>
                    <li><a href="#"><i class="fas fa-gavel"></i> Court Information</a></li>
                    <li><a href="#"><i class="fas fa-dollar-sign"></i> Fee Schedule</a></li>
                    <li><a href="#"><i class="fas fa-envelope"></i> Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>File Eviction Cases Online for Houston County, Georgia</h2>
            <p>Our secure online system allows landlords to file dispossessory affidavits, generate required notices, and submit cases directly to the Houston County Magistrate Court. Save time and ensure compliance with Georgia eviction laws.</p>
            <a href="#" class="cta-button" id="startFilingBtn">
                <i class="fas fa-file-signature"></i> Start Eviction Filing
            </a>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <h2 class="section-title">Why File With Our System?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-file-contract"></i>
                    </div>
                    <h3>Court-Approved Forms</h3>
                    <p>Automatically generate Georgia dispossessory affidavits, 7-day notices, and summons forms that comply with Houston County requirements.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>Faster Processing</h3>
                    <p>Reduce filing time from days to minutes. Submit directly to the court clerk's office without waiting in line.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>SCRA Compliance</h3>
                    <p>Automatic Servicemembers Civil Relief Act verification to ensure compliance with federal law.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <h3>Transparent Fees</h3>
                    <p>Pay Houston County's $99 filing fee securely online. No hidden charges or subscription fees.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Eviction Filing Form (Initially Hidden) -->
    <div class="container">
        <div class="form-container" id="evictionForm">
            <!-- Form Progress -->
            <div class="form-progress">
                <div class="progress-step">
                    <div class="step-circle active" id="step1Circle">1</div>
                    <div class="step-label">Landlord Info</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step2Circle">2</div>
                    <div class="step-label">Property Info</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step3Circle">3</div>
                    <div class="step-label">Tenant Info</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step4Circle">4</div>
                    <div class="step-label">Case Details</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step5Circle">5</div>
                    <div class="step-label">Documents</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step6Circle">6</div>
                    <div class="step-label">E-Signature</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step7Circle">7</div>
                    <div class="step-label">Payment</div>
                </div>
            </div>
            
            <!-- Step 1: Landlord Information -->
            <div class="form-step active" id="step1">
                <h2 class="form-title">Landlord Information</h2>
                
                <div class="info-box">
                    <h4><i class="fas fa-info-circle"></i> Important Notice</h4>
                    <p>You must be the property owner or authorized agent to file an eviction. If filing as an agent, you must have written authorization from the property owner.</p>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="landlordName">Full Legal Name *</label>
                        <input type="text" id="landlordName" placeholder="Enter your full name as it appears on the deed">
                    </div>
                    <div class="form-group">
                        <label for="landlordPhone">Phone Number *</label>
                        <input type="tel" id="landlordPhone" placeholder="(478) 123-4567">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="landlordEmail">Email Address *</label>
                        <input type="email" id="landlordEmail" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label for="landlordType">Filing As</label>
                        <select id="landlordType">
                            <option value="owner">Property Owner</option>
                            <option value="agent">Authorized Agent</option>
                            <option value="property_manager">Property Manager</option>
                            <option value="attorney">Attorney</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="landlordAddress">Mailing Address *</label>
                    <input type="text" id="landlordAddress" placeholder="Street Address">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="landlordCity">City *</label>
                        <input type="text" id="landlordCity" placeholder="City">
                    </div>
                    <div class="form-group">
                        <label for="landlordState">State *</label>
                        <select id="landlordState">
                            <option value="GA" selected>Georgia</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="landlordZip">ZIP Code *</label>
                        <input type="text" id="landlordZip" placeholder="31088">
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-outline" id="cancelBtn">Cancel</button>
                    <button type="button" class="btn btn-primary" id="nextStep1">Next: Property Information</button>
                </div>
            </div>
            
            <!-- Step 2: Property Information -->
            <div class="form-step" id="step2">
                <h2 class="form-title">Property Information</h2>
                
                <div class="info-box">
                    <h4><i class="fas fa-map-marker-alt"></i> Location Requirements</h4>
                    <p>The property must be located within Houston County, Georgia. This system only handles evictions for properties in Houston County.</p>
                </div>
                
                <div class="form-group">
                    <label for="propertyAddress">Property Address *</label>
                    <input type="text" id="propertyAddress" placeholder="Street Address of the rental property">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="propertyCity">City *</label>
                        <select id="propertyCity">
                            <option value="Warner Robins" selected>Warner Robins</option>
                            <option value="Perry">Perry</option>
                            <option value="Centerville">Centerville</option>
                            <option value="Bonaire">Bonaire</option>
                            <option value="Kathleen">Kathleen</option>
                            <option value="Other">Other Houston County Location</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="propertyZip">ZIP Code *</label>
                        <input type="text" id="propertyZip" placeholder="31088">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="propertyType">Property Type</label>
                        <select id="propertyType">
                            <option value="single_family">Single Family Home</option>
                            <option value="apartment">Apartment</option>
                            <option value="condo">Condominium</option>
                            <option value="townhome">Townhome</option>
                            <option value="mobile_home">Mobile Home</option>
                            <option value="commercial">Commercial Property</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="unitNumber">Unit Number (if applicable)</label>
                        <input type="text" id="unitNumber" placeholder="Apt 3B, Unit 12, etc.">
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="prevStep2">Previous</button>
                    <button type="button" class="btn btn-primary" id="nextStep2">Next: Tenant Information</button>
                </div>
            </div>
            
            <!-- Step 3: Tenant Information -->
            <div class="form-step" id="step3">
                <h2 class="form-title">Tenant Information</h2>
                
                <div class="info-box">
                    <h4><i class="fas fa-user-friends"></i> Multiple Tenants</h4>
                    <p>If there are multiple tenants on the lease, you'll need to provide information for each one. You can add additional tenants after completing this section.</p>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="tenantName">Tenant Full Name *</label>
                        <input type="text" id="tenantName" placeholder="Tenant's legal name">
                    </div>
                    <div class="form-group">
                        <label for="tenantPhone">Tenant Phone Number</label>
                        <input type="tel" id="tenantPhone" placeholder="(478) 123-4567">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="tenantEmail">Tenant Email (if known)</label>
                        <input type="email" id="tenantEmail" placeholder="tenant@email.com">
                    </div>
                    <div class="form-group">
                        <label for="tenantAltAddress">Alternate Mailing Address</label>
                        <input type="text" id="tenantAltAddress" placeholder="If different from property address">
                    </div>
                </div>
                
                <div class="form-group">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                        <input type="checkbox" id="militaryCheck" style="width: auto;">
                        <label for="militaryCheck" style="margin: 0;">I believe this tenant may be an active duty service member</label>
                    </div>
                    <p class="small-text"><i class="fas fa-exclamation-triangle" style="color: #dc3545;"></i> The court will verify military status through the SCRA database. False statements may result in dismissal of your case.</p>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="prevStep3">Previous</button>
                    <button type="button" class="btn btn-primary" id="nextStep3">Next: Case Details</button>
                </div>
            </div>
            
            <!-- Step 4: Case Details -->
            <div class="form-step" id="step4">
                <h2 class="form-title">Case Details</h2>
                
                <div class="info-box">
                    <h4><i class="fas fa-balance-scale"></i> Georgia Eviction Laws</h4>
                    <p>In Georgia, you must have legal grounds for eviction. Common reasons include non-payment of rent, lease violations, or holdover tenancy after lease expiration.</p>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="leaseType">Lease Type *</label>
                        <select id="leaseType">
                            <option value="month_to_month">Month-to-Month</option>
                            <option value="fixed_term">Fixed Term Lease</option>
                            <option value="week_to_week">Week-to-Week</option>
                            <option value="verbal">Verbal Agreement</option>
                            <option value="no_lease">No Lease Agreement</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="reason">Reason for Eviction *</label>
                        <select id="reason">
                            <option value="non_payment">Non-Payment of Rent</option>
                            <option value="lease_violation">Lease Violation</option>
                            <option value="holdover">Holdover (Lease Expired)</option>
                            <option value="property_damage">Property Damage</option>
                            <option value="illegal_activity">Illegal Activity</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="rentAmount">Monthly Rent Amount *</label>
                        <div style="position: relative;">
                            <span style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%);">$</span>
                            <input type="number" id="rentAmount" placeholder="0.00" style="padding-left: 30px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="amountOwed">Total Amount Owed *</label>
                        <div style="position: relative;">
                            <span style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%);">$</span>
                            <input type="number" id="amountOwed" placeholder="0.00" style="padding-left: 30px;">
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="lastPaymentDate">Last Payment Received</label>
                        <input type="date" id="lastPaymentDate">
                    </div>
                    <div class="form-group">
                        <label for="noticeDate">Date Notice Was Served *</label>
                        <input type="date" id="noticeDate">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="noticeDetails">Details of Notice Served</label>
                    <textarea id="noticeDetails" rows="3" placeholder="Describe how and when the notice was delivered to the tenant (e.g., 'Posted on front door on 10/15/2023' or 'Certified mail #1234567890')"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="prevStep4">Previous</button>
                    <button type="button" class="btn btn-primary" id="nextStep4">Next: Document Generation</button>
                </div>
            </div>
            
            <!-- Step 5: Document Generation -->
            <div class="form-step" id="step5">
                <h2 class="form-title">Generate Documents</h2>
                
                <div class="info-box success">
                    <h4><i class="fas fa-check-circle"></i> Ready to Generate Documents</h4>
                    <p>Your information has been verified. We will now generate the following Houston County eviction documents:</p>
                    <ul style="margin: 10px 0 0 20px;">
                        <li>7-Day Demand for Possession (OCGA ยง 44-7-50)</li>
                        <li>Dispossessory Affidavit</li>
                        <li>Summons</li>
                        <li>SCRA Verification Form</li>
                    </ul>
                </div>
                
                <div class="document-preview">
                    <div class="document-header">
                        <h3 style="margin: 0; color: var(--houston-blue);">Document Preview</h3>
                        <div class="document-actions">
                            <button class="btn btn-outline" id="downloadAllDocs">
                                <i class="fas fa-download"></i> Download All
                            </button>
                            <button class="btn btn-outline" id="printDocs">
                                <i class="fas fa-print"></i> Print
                            </button>
                        </div>
                    </div>
                    <iframe class="document-frame" id="documentPreview" src="about:blank"></iframe>
                </div>
                
                <div class="form-group">
                    <label>Select Document to Preview:</label>
                    <select id="documentSelector" style="margin-top: 10px;">
                        <option value="">Select a document...</option>
                        <option value="demand_notice">7-Day Demand for Possession</option>
                        <option value="affidavit">Dispossessory Affidavit</option>
                        <option value="summons">Summons</option>
                        <option value="scra_form">SCRA Verification Form</option>
                    </select>
                </div>
                
                <div class="info-box warning">
                    <h4><i class="fas fa-exclamation-triangle"></i> Review Carefully</h4>
                    <p>Please review all documents carefully before signing. Once signed, these documents become legally binding.</p>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="prevStep5">Previous</button>
                    <button type="button" class="btn btn-primary" id="nextStep5">Next: E-Signature</button>
                </div>
            </div>
            
            <!-- Step 6: E-Signature -->
            <div class="form-step" id="step6">
                <h2 class="form-title">E-Sign Documents</h2>
                
                <div class="info-box">
                    <h4><i class="fas fa-signature"></i> Electronic Signature</h4>
                    <p>Your electronic signature has the same legal effect as a handwritten signature for Houston County eviction filings.</p>
                </div>
                
                <div class="signature-container">
                    <div class="signature-header">
                        <h3 style="margin: 0;">Sign Documents</h3>
                        <div class="signature-status">
                            <span id="signatureStatus" style="color: #666; font-weight: 600;">
                                <i class="fas fa-pen"></i> Ready to sign
                            </span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="signerName">Full Name (as it will appear on signature)</label>
                        <input type="text" id="signerName" placeholder="Enter your full legal name">
                    </div>
                    
                    <div class="form-group">
                        <label>Draw your signature below:</label>
                        <canvas id="signaturePad" class="signature-pad"></canvas>
                    </div>
                    
                    <div class="signature-actions">
                        <button class="btn btn-secondary" id="clearSignature">
                            <i class="fas fa-eraser"></i> Clear Signature
                        </button>
                        <button class="btn btn-outline" id="typeSignature">
                            <i class="fas fa-keyboard"></i> Type Signature
                        </button>
                        <button class="btn btn-success" id="saveSignature">
                            <i class="fas fa-save"></i> Save Signature
                        </button>
                    </div>
                    
                    <div id="signaturePreview" class="signature-preview" style="display: none;">
                        <div>
                            <strong>Signature Saved:</strong>
                            <p style="margin: 5px 0; color: #666;">Your signature will be applied to all documents</p>
                        </div>
                        <img id="signatureImage" src="" alt="Signature">
                    </div>
                </div>
                
                <div class="info-box warning">
                    <h4><i class="fas fa-shield-alt"></i> Legal Certification</h4>
                    <div style="display: flex; align-items: flex-start; gap: 10px; margin-top: 10px;">
                        <input type="checkbox" id="legalCertify" style="margin-top: 3px;">
                        <label for="legalCertify" style="margin: 0;">
                            I certify under penalty of perjury that the information provided is true and correct to the best of my knowledge, and that I am authorized to sign these documents.
                        </label>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="prevStep6">Previous</button>
                    <button type="button" class="btn btn-primary" id="nextStep6" disabled>Next: Payment</button>
                </div>
            </div>
            
            <!-- Step 7: Payment -->
            <div class="form-step" id="step7">
                <h2 class="form-title">Payment & Submission</h2>
                
                <div class="info-box">
                    <h4><i class="fas fa-file-invoice-dollar"></i> Filing Fee</h4>
                    <p>Houston County filing fee: <strong>$99.00</strong>. This fee is paid to the court and is non-refundable once the case is filed.</p>
                </div>
                
                <div class="payment-section">
                    <div class="payment-summary">
                        <h3 style="margin-top: 0; color: var(--houston-blue);">Payment Summary</h3>
                        <div class="payment-item">
                            <span>Eviction Filing Fee</span>
                            <span>$99.00</span>
                        </div>
                        <div class="payment-item">
                            <span>Service Fee</span>
                            <span>$0.00</span>
                        </div>
                        <div class="payment-item">
                            <span>Processing Fee</span>
                            <span>$0.00</span>
                        </div>
                        <div class="payment-item total">
                            <span>Total Amount</span>
                            <span>$99.00</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Payment Method</label>
                        <select id="paymentMethod" style="margin-top: 10px;">
                            <option value="credit_card">Credit/Debit Card</option>
                            <option value="bank_transfer">Bank Transfer</option>
                        </select>
                    </div>
                    
                    <div id="creditCardSection">
                        <div class="form-group">
                            <label>Card Information</label>
                            <div class="card-element" id="card-element">
                                <!-- Stripe Card Element will be inserted here -->
                            </div>
                            <div class="card-errors" id="card-errors" role="alert"></div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cardName">Name on Card</label>
                                <input type="text" id="cardName" placeholder="John Doe">
                            </div>
                            <div class="form-group">
                                <label for="cardZip">ZIP Code</label>
                                <input type="text" id="cardZip" placeholder="12345">
                            </div>
                        </div>
                    </div>
                    
                    <div class="info-box" style="margin-top: 30px;">
                        <h4><i class="fas fa-lock"></i> Secure Payment</h4>
                        <p>Your payment is processed securely through Stripe. We do not store your credit card information.</p>
                        <div style="display: flex; gap: 15px; margin-top: 10px; color: #666;">
                            <div><i class="fas fa-shield-alt"></i> PCI DSS Compliant</div>
                            <div><i class="fas fa-lock"></i> 256-bit Encryption</div>
                            <div><i class="fas fa-check-circle"></i> Secure Processing</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="prevStep7">Previous</button>
                    <button type="button" class="btn btn-success" id="submitPayment">
                        <i class="fas fa-lock"></i> Pay $99.00 & Submit to Court
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Case Status (Initially Hidden) -->
    <div class="container">
        <div class="case-status" id="caseStatus">
            <div class="status-header">
                <h2 style="color: var(--houston-blue);">Case Successfully Filed!</h2>
                <p>Your eviction case has been submitted to the Houston County Magistrate Court.</p>
                <div style="background: #e8f4fd; padding: 15px; border-radius: var(--border-radius); display: inline-block; margin-top: 15px;">
                    <strong>Case ID:</strong> <span id="displayCaseId" style="color: var(--houston-blue); font-weight: bold;">HOU-2024-0000</span>
                </div>
            </div>
            
            <div class="status-timeline">
                <div class="status-step completed">
                    <div class="status-icon"><i class="fas fa-check"></i></div>
                    <div class="step-label">Form Submitted</div>
                </div>
                <div class="status-step completed">
                    <div class="status-icon"><i class="fas fa-check"></i></div>
                    <div class="step-label">Documents Generated</div>
                </div>
                <div class="status-step completed">
                    <div class="status-icon"><i class="fas fa-check"></i></div>
                    <div class="step-label">E-Signed</div>
                </div>
                <div class="status-step active">
                    <div class="status-icon"><i class="fas fa-credit-card"></i></div>
                    <div class="step-label">Payment Processed</div>
                </div>
                <div class="status-step">
                    <div class="status-icon"><i class="fas fa-gavel"></i></div>
                    <div class="step-label">Court Review</div>
                </div>
                <div class="status-step">
                    <div class="status-icon"><i class="fas fa-file-contract"></i></div>
                    <div class="step-label">Case Filed</div>
                </div>
            </div>
            
            <div class="info-box success">
                <h4><i class="fas fa-envelope"></i> What Happens Next</h4>
                <p>You will receive a confirmation email with your case number and next steps. The court will:</p>
                <ol style="margin: 10px 0 0 20px;">
                    <li>Review your submission (1-2 business days)</li>
                    <li>Issue a case number and summons</li>
                    <li>Forward documents to the Sheriff's office for service</li>
                    <li>Schedule a court hearing (7-10 days after service)</li>
                </ol>
            </div>
            
            <div class="form-actions" style="justify-content: center; border-top: none;">
                <button type="button" class="btn btn-outline" id="newCaseBtn">
                    <i class="fas fa-plus"></i> Start New Filing
                </button>
                <button type="button" class="btn btn-primary" id="viewDocumentsBtn">
                    <i class="fas fa-file-pdf"></i> View Filed Documents
                </button>
                <button type="button" class="btn btn-success" id="trackCaseBtn">
                    <i class="fas fa-search"></i> Track Case Status
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Houston County Magistrate Court</h3>
                    <p>202 Carl Vinson Parkway<br>
                    Warner Robins, GA 31088<br>
                    Phone: (478) 542-2100<br>
                    Hours: Monday-Friday, 8:00 AM - 5:00 PM</p>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#" id="footerStartFiling">Start New Filing</a></li>
                        <li><a href="#">Check Case Status</a></li>
                        <li><a href="#">Court Rules & Procedures</a></li>
                        <li><a href="#">Eviction Timeline</a></li>
                        <li><a href="#">Fee Schedule</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul class="footer-links">
                        <li><a href="#">Georgia Landlord-Tenant Handbook</a></li>
                        <li><a href="#">SCRA Information</a></li>
                        <li><a href="#">Legal Aid Services</a></li>
                        <li><a href="#">Forms & Documents</a></li>
                        <li><a href="#">FAQs</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>ยฉ 2026 This is a system for filing eviction cases in Houston County. Unauthorized use is prohibited.</p>
                <p style="margin-top: 10px;">This system is designed to assist with proper filing but does not constitute legal advice. Consult an attorney for legal questions.</p>
            </div>
        </div>
    </footer>

    <script>
        // Form Navigation Logic
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize variables
            let currentStep = 1;
            let caseId = null;
            let signatureData = null;
            let stripe = null;
            let elements = null;
            let card = null;
            
            // DOM Elements
            const startFilingBtn = document.getElementById('startFilingBtn');
            const navStartFiling = document.getElementById('navStartFiling');
            const footerStartFiling = document.getElementById('footerStartFiling');
            const evictionForm = document.getElementById('evictionForm');
            const cancelBtn = document.getElementById('cancelBtn');
            const caseStatus = document.getElementById('caseStatus');
            const loadingOverlay = document.getElementById('loadingOverlay');
            const loadingText = document.getElementById('loadingText');
            
            // Show/Hide Form
            function showForm() {
                evictionForm.style.display = 'block';
                caseStatus.style.display = 'none';
                window.scrollTo({
                    top: evictionForm.offsetTop - 20,
                    behavior: 'smooth'
                });
            }
            
            startFilingBtn.addEventListener('click', function(e) {
                e.preventDefault();
                showForm();
            });
            
            navStartFiling.addEventListener('click', function(e) {
                e.preventDefault();
                showForm();
            });
            
            footerStartFiling.addEventListener('click', function(e) {
                e.preventDefault();
                showForm();
            });
            
            cancelBtn.addEventListener('click', function() {
                if (confirm('Are you sure you want to cancel? All entered information will be lost.')) {
                    evictionForm.style.display = 'none';
                    resetForm();
                }
            });
            
            // Step Navigation
            function goToStep(step) {
                // Hide current step
                document.getElementById(`step${currentStep}`).classList.remove('active');
                document.getElementById(`step${currentStep}Circle`).classList.remove('active');
                
                // Update current step
                currentStep = step;
                
                // Show new step
                document.getElementById(`step${currentStep}`).classList.add('active');
                document.getElementById(`step${currentStep}Circle`).classList.add('active');
                
                // Mark previous steps as completed
                for (let i = 1; i < currentStep; i++) {
                    document.getElementById(`step${i}Circle`).classList.add('completed');
                }
                
                // Clear completed status for steps after current
                for (let i = currentStep + 1; i <= 7; i++) {
                    document.getElementById(`step${i}Circle`).classList.remove('completed');
                }
                
                // Handle step-specific initialization
                if (currentStep === 5) {
                    generateDocumentsPreview();
                } else if (currentStep === 6) {
                    initializeSignaturePad();
                    document.getElementById('signerName').value = document.getElementById('landlordName').value;
                } else if (currentStep === 7) {
                    initializePayment();
                }
                
                // Scroll to top of form
                evictionForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
            
            // Next Step Buttons
            document.getElementById('nextStep1').addEventListener('click', () => goToStep(2));
            document.getElementById('nextStep2').addEventListener('click', () => goToStep(3));
            document.getElementById('nextStep3').addEventListener('click', () => goToStep(4));
            document.getElementById('nextStep4').addEventListener('click', () => goToStep(5));
            document.getElementById('nextStep5').addEventListener('click', () => goToStep(6));
            
            // Previous Step Buttons
            document.getElementById('prevStep2').addEventListener('click', () => goToStep(1));
            document.getElementById('prevStep3').addEventListener('click', () => goToStep(2));
            document.getElementById('prevStep4').addEventListener('click', () => goToStep(3));
            document.getElementById('prevStep5').addEventListener('click', () => goToStep(4));
            document.getElementById('prevStep6').addEventListener('click', () => goToStep(5));
            document.getElementById('prevStep7').addEventListener('click', () => goToStep(6));
            
            // Document Generation Functions
            function generateDocumentsPreview() {
                // In a real implementation, this would call your backend API
                // For now, we'll simulate document generation
                
                const documentSelector = document.getElementById('documentSelector');
                const documentPreview = document.getElementById('documentPreview');
                
                documentSelector.addEventListener('change', function() {
                    const selectedDoc = this.value;
                    if (selectedDoc) {
                        // Generate a mock PDF preview
                        const htmlContent = generateMockDocument(selectedDoc);
                        const blob = new Blob([htmlContent], { type: 'text/html' });
                        const url = URL.createObjectURL(blob);
                        documentPreview.src = url;
                    }
                });
                
                // Trigger change to show first document
                documentSelector.value = 'demand_notice';
                documentSelector.dispatchEvent(new Event('change'));
                
                // Download all documents
                document.getElementById('downloadAllDocs').addEventListener('click', function() {
                    showLoading('Generating document package...');
                    setTimeout(() => {
                        hideLoading();
                        alert('Document package downloaded successfully!');
                    }, 1500);
                });
                
                // Print documents
                document.getElementById('printDocs').addEventListener('click', function() {
                    documentPreview.contentWindow.print();
                });
            }
            
            function generateMockDocument(docType) {
                const formData = getFormData();
                const today = new Date().toLocaleDateString();
                
                const templates = {
                    demand_notice: `
                        <html>
                        <head><title>7-Day Demand for Possession</title></head>
                        <body style="font-family: Arial, sans-serif; padding: 40px;">
                            <h1 style="text-align: center; color: #003366;">7-DAY DEMAND FOR POSSESSION</h1>
                            <h2 style="text-align: center;">STATE OF GEORGIA - COUNTY OF HOUSTON</h2>
                            <hr>
                            <p><strong>TO:</strong> ${formData.tenantName || 'Tenant Name'}</p>
                            <p><strong>PROPERTY ADDRESS:</strong> ${formData.propertyAddress || 'Property Address'}</p>
                            <br>
                            <p>You are hereby notified that you are in arrears in the payment of rent in the amount of <strong>$${formData.amountOwed || '0.00'}</strong>.</p>
                            <p>Unless said rent is paid in full within SEVEN (7) DAYS from the date of service of this notice, dispossessory proceedings will be instituted against you.</p>
                            <br>
                            <p>Dated: ${today}</p>
                            <br><br>
                            <p>_________________________________________</p>
                            <p>${formData.landlordName || 'Landlord Name'}</p>
                            <p>Landlord/Agent</p>
                        </body>
                        </html>
                    `,
                    affidavit: `
                        <html>
                        <head><title>Dispossessory Affidavit</title></head>
                        <body style="font-family: Arial, sans-serif; padding: 40px;">
                            <h1 style="text-align: center; color: #003366;">DISPOSSESSORY AFFIDAVIT</h1>
                            <h2 style="text-align: center;">MAGISTRATE COURT OF HOUSTON COUNTY</h2>
                            <hr>
                            <p><strong>PLAINTIFF:</strong> ${formData.landlordName || 'Landlord Name'}</p>
                            <p><strong>DEFENDANT:</strong> ${formData.tenantName || 'Tenant Name'}</p>
                            <p><strong>PROPERTY:</strong> ${formData.propertyAddress || 'Property Address'}</p>
                            <br>
                            <p>I, ${formData.landlordName || 'Landlord Name'}, being duly sworn, depose and say:</p>
                            <p>1. I am the landlord/agent of the premises located at the above address.</p>
                            <p>2. The tenant is in possession of said premises.</p>
                            <p>3. The tenant is indebted to me in the amount of $${formData.amountOwed || '0.00'} for rent which became due and has failed to pay.</p>
                            <p>4. On ${formData.noticeDate || today}, I made a demand for possession of the premises.</p>
                            <br>
                            <p>WHEREFORE, affiant prays that a warrant issue and judgment be granted for possession of the premises and past due rent.</p>
                            <br><br>
                            <p>Sworn to and subscribed before me this ______ day of ____________________, 2024</p>
                            <br><br>
                            <p>_________________________________________</p>
                            <p>${formData.landlordName || 'Landlord Name'}</p>
                            <p>Affiant</p>
                        </body>
                        </html>
                    `
                };
                
                return templates[docType] || '<html><body><p>Document preview not available</p></body></html>';
            }
            
            function getFormData() {
                return {
                    landlordName: document.getElementById('landlordName').value,
                    tenantName: document.getElementById('tenantName').value,
                    propertyAddress: document.getElementById('propertyAddress').value,
                    amountOwed: document.getElementById('amountOwed').value,
                    noticeDate: document.getElementById('noticeDate').value
                };
            }
            
            // Signature Pad Functions
            function initializeSignaturePad() {
                const canvas = document.getElementById('signaturePad');
                const ctx = canvas.getContext('2d');
                let drawing = false;
                
                // Set canvas size
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
                
                // Draw border
                ctx.strokeStyle = '#ccc';
                ctx.lineWidth = 2;
                ctx.strokeRect(0, 0, canvas.width, canvas.height);
                
                // Drawing functions
                function startDrawing(e) {
                    drawing = true;
                    draw(e);
                }
                
                function stopDrawing() {
                    drawing = false;
                    ctx.beginPath();
                    updateSignatureStatus();
                }
                
                function draw(e) {
                    if (!drawing) return;
                    
                    ctx.lineWidth = 2;
                    ctx.lineCap = 'round';
                    ctx.strokeStyle = '#000';
                    
                    ctx.lineTo(
                        e.clientX - canvas.getBoundingClientRect().left,
                        e.clientY - canvas.getBoundingClientRect().top
                    );
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(
                        e.clientX - canvas.getBoundingClientRect().left,
                        e.clientY - canvas.getBoundingClientRect().top
                    );
                }
                
                // Event listeners
                canvas.addEventListener('mousedown', startDrawing);
                canvas.addEventListener('mouseup', stopDrawing);
                canvas.addEventListener('mousemove', draw);
                
                canvas.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    startDrawing(touch);
                });
                
                canvas.addEventListener('touchend', stopDrawing);
                
                canvas.addEventListener('touchmove', function(e) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    draw(touch);
                });
                
                // Clear signature button
                document.getElementById('clearSignature').addEventListener('click', function() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.strokeRect(0, 0, canvas.width, canvas.height);
                    document.getElementById('signaturePreview').style.display = 'none';
                    document.getElementById('nextStep6').disabled = true;
                    signatureData = null;
                    updateSignatureStatus();
                });
                
                // Type signature button
                document.getElementById('typeSignature').addEventListener('click', function() {
                    const typedName = prompt('Enter your signature text:', document.getElementById('signerName').value);
                    if (typedName) {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        ctx.font = '40px cursive';
                        ctx.fillStyle = '#000';
                        ctx.textAlign = 'center';
                        ctx.fillText(typedName, canvas.width/2, canvas.height/2 + 15);
                        saveSignatureData();
                    }
                });
                
                // Save signature button
                document.getElementById('saveSignature').addEventListener('click', saveSignatureData);
                
                // Legal certification checkbox
                document.getElementById('legalCertify').addEventListener('change', function() {
                    const signBtn = document.getElementById('nextStep6');
                    signBtn.disabled = !(this.checked && signatureData);
                });
            }
            
            function saveSignatureData() {
                const canvas = document.getElementById('signaturePad');
                const signerName = document.getElementById('signerName').value;
                
                if (!signerName.trim()) {
                    alert('Please enter your name before saving signature.');
                    return;
                }
                
                // Check if signature is not empty
                const ctx = canvas.getContext('2d');
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                let isEmpty = true;
                
                for (let i = 3; i < imageData.data.length; i += 4) {
                    if (imageData.data[i] > 0) {
                        isEmpty = false;
                        break;
                    }
                }
                
                if (isEmpty) {
                    alert('Please draw or type your signature before saving.');
                    return;
                }
                
                // Save signature data
                signatureData = {
                    name: signerName,
                    dataUrl: canvas.toDataURL(),
                    timestamp: new Date().toISOString()
                };
                
                // Show preview
                const preview = document.getElementById('signaturePreview');
                const previewImg = document.getElementById('signatureImage');
                previewImg.src = signatureData.dataUrl;
                preview.style.display = 'flex';
                
                // Enable next button if legal certification is checked
                const signBtn = document.getElementById('nextStep6');
                const legalCertify = document.getElementById('legalCertify');
                signBtn.disabled = !legalCertify.checked;
                
                updateSignatureStatus('Signed and saved');
            }
            
            function updateSignatureStatus(status = 'Ready to sign') {
                const statusEl = document.getElementById('signatureStatus');
                if (status === 'Signed and saved') {
                    statusEl.innerHTML = '<i class="fas fa-check-circle" style="color: #28a745;"></i> ' + status;
                } else {
                    statusEl.innerHTML = '<i class="fas fa-pen"></i> ' + status;
                }
            }
            
            // Payment Functions
            function initializePayment() {
                // Initialize Stripe (use your test publishable key)
                stripe = Stripe('pk_test_your_publishable_key_here');
                elements = stripe.elements();
                
                // Create card element
                const style = {
                    base: {
                        fontSize: '16px',
                        color: '#32325d',
                    }
                };
                
                card = elements.create('card', { style: style });
                card.mount('#card-element');
                
                // Handle real-time validation errors
                card.addEventListener('change', function(event) {
                    const displayError = document.getElementById('card-errors');
                    if (event.error) {
                        displayError.textContent = event.error.message;
                    } else {
                        displayError.textContent = '';
                    }
                });
                
                // Payment method change
                document.getElementById('paymentMethod').addEventListener('change', function() {
                    const creditCardSection = document.getElementById('creditCardSection');
                    if (this.value === 'credit_card') {
                        creditCardSection.style.display = 'block';
                    } else {
                        creditCardSection.style.display = 'none';
                    }
                });
                
                // Submit payment
                document.getElementById('submitPayment').addEventListener('click', submitPayment);
                
                document.getElementById('nextStep6').addEventListener('click', function() {
                    if (!signatureData) {
                        alert('Please save your signature before proceeding to payment.');
                        return;
                    }
                    if (!document.getElementById('legalCertify').checked) {
                        alert('Please certify the legal information before proceeding.');
                        return;
                    }
                    goToStep(7);
                });
            }
            
            async function submitPayment() {
                const paymentMethod = document.getElementById('paymentMethod').value;
                
                if (paymentMethod === 'credit_card') {
                    // Validate card details
                    const cardName = document.getElementById('cardName').value;
                    const cardZip = document.getElementById('cardZip').value;
                    
                    if (!cardName || !cardZip) {
                        alert('Please fill in all card details.');
                        return;
                    }
                    
                    showLoading('Processing payment...');
                    
                    try {
                        // In a real implementation, you would:
                        // 1. Create a payment intent on your server
                        // 2. Confirm the card payment with Stripe
                        // 3. Submit the case to the court system
                        
                        // Simulate payment processing
                        setTimeout(() => {
                            hideLoading();
                            
                            // Generate case ID
                            caseId = 'HOU-' + new Date().getFullYear() + '-' + 
                                    Math.floor(1000 + Math.random() * 9000);
                            
                            // Show success message
                            showCaseStatus();
                        }, 2000);
                        
                    } catch (error) {
                        hideLoading();
                        alert('Payment failed: ' + error.message);
                    }
                } else {
                    // Bank transfer option
                    showLoading('Preparing bank transfer details...');
                    setTimeout(() => {
                        hideLoading();
                        caseId = 'HOU-' + new Date().getFullYear() + '-' + 
                                Math.floor(1000 + Math.random() * 9000);
                        showCaseStatus();
                    }, 1500);
                }
            }
            
            function showCaseStatus() {
                evictionForm.style.display = 'none';
                caseStatus.style.display = 'block';
                document.getElementById('displayCaseId').textContent = caseId;
                window.scrollTo({
                    top: caseStatus.offsetTop - 20,
                    behavior: 'smooth'
                });
                
                // Add event listeners for case status buttons
                document.getElementById('newCaseBtn').addEventListener('click', function() {
                    caseStatus.style.display = 'none';
                    resetForm();
                    showForm();
                });
                
                document.getElementById('viewDocumentsBtn').addEventListener('click', function() {
                    alert('In a real implementation, this would show your filed documents.');
                });
                
                document.getElementById('trackCaseBtn').addEventListener('click', function() {
                    alert('In a real implementation, this would show case tracking information.');
                });
            }
            
            // Utility Functions
            function showLoading(message = 'Processing...') {
                loadingText.textContent = message;
                loadingOverlay.style.display = 'flex';
            }
            
            function hideLoading() {
                loadingOverlay.style.display = 'none';
            }
            
            function resetForm() {
                // Reset to step 1
                currentStep = 1;
                
                // Hide all steps except first
                const steps = document.querySelectorAll('.form-step');
                steps.forEach(step => step.classList.remove('active'));
                document.getElementById('step1').classList.add('active');
                
                // Reset progress indicators
                const circles = document.querySelectorAll('.step-circle');
                circles.forEach(circle => {
                    circle.classList.remove('active', 'completed');
                });
                document.getElementById('step1Circle').classList.add('active');
                
                // Clear form fields (simplified for demo)
                document.getElementById('legalCertify').checked = false;
                document.getElementById('nextStep6').disabled = true;
                signatureData = null;
                
                // Reset signature preview
                document.getElementById('signaturePreview').style.display = 'none';
                
                // Clear form inputs (optional - uncomment to clear all fields)
                // document.querySelectorAll('#evictionForm input, #evictionForm select, #evictionForm textarea').forEach(input => {
                //     if (input.type !== 'button' && input.type !== 'submit') {
                //         input.value = '';
                //     }
                // });
            }
            
            // Pre-fill today's date in notice date field
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('noticeDate').value = today;
            
            // Set minimum date for notice date (30 days ago)
            const thirtyDaysAgo = new Date();
            thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
            document.getElementById('noticeDate').min = thirtyDaysAgo.toISOString().split('T')[0];
            
            // Set maximum date for notice date (today)
            document.getElementById('noticeDate').max = today;
        });
    </script>
</body>
</html>
